import{u as d,j as s,s as m,c as p}from"./index-CBrNcyrV.js";import{d as g}from"./departmentDetails-CQv4eOEU.js";import{B as j}from"./Button-BZHJO8wZ.js";import{S as h,u}from"./SpecialistTitleScroller-C8_m6Tjx.js";import{D as f}from"./DoctorCard-C04sHLSF.js";import"./createLucideIcon-MbSdwBww.js";const N=({title:e,description:t,imageSrc:i})=>{const l=d();return s.jsxs("section",{className:"bg-white rounded-2xl mx-4 lg:mx-16 p-8 flex flex-col lg:flex-row items-center gap-8",children:[s.jsxs("div",{className:"lg:w-1/2 space-y-6",children:[s.jsx("h1",{className:"text-4xl font-semibold",children:e}),s.jsx("p",{className:"text-gray-700 leading-relaxed font-semibold",children:t}),s.jsx(j,{onClick:()=>l("/specialists"),children:"Записаться онлайн"})]}),s.jsx("div",{className:"lg:w-1/2",children:s.jsx("img",{src:i,alt:e,className:"w-full h-auto object-cover"})})]})},v=({text:e})=>s.jsx("div",{className:"bg-white rounded-xl p-6 shadow text-gray-800",children:e}),y=Object.assign({"/src/assets/images/specialists/specialist.png":m}),S=e=>{if(!e)return m;const i=`/src/assets/images/specialists/${e.split("/").pop()}`;return y[i]||m},b=({titles:e,grouped:t,selectedTitle:i,onSelectTitle:l,showBookButton:o=!1,onBookClick:c})=>{const x=i?{[i]:t[i]??[]}:t;return s.jsxs("section",{className:"mt-10 px-4 sm:px-6 lg:px-12 space-y-12",children:[s.jsx(h,{titles:e,selectedTitle:i,onSelect:l}),Object.entries(x).map(([n,r])=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-700",children:n}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(a=>s.jsx(f,{doctor:{...a,photoUrl:S(a.photoUrl)},showButton:o,onBookClick:()=>c==null?void 0:c(a)},a.id))})]},n))]})},O=()=>{const{slug:e}=p(),t=e?g[e]:void 0,{titles:i,groupedAll:l,selectedTitle:o,setSelectedTitle:c,isLoading:x,isError:n}=u();return t?x?s.jsx("div",{className:"text-center py-10 text-xl text-gray-600",children:"Загрузка специалистов..."}):n?s.jsx("div",{className:"text-center py-10 text-red-500 text-xl",children:"Ошибка загрузки специалистов"}):s.jsxs("main",{className:"py-4",children:[s.jsx(N,{title:t.title,description:t.description,imageSrc:t.image||m}),s.jsx("section",{className:"mt-4 mx-6 lg:mx-16",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.features.map((r,a)=>s.jsx(v,{text:r},a))})}),s.jsx(b,{titles:i,grouped:l,selectedTitle:o,onSelectTitle:r=>c(a=>a===r?null:r)})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-xl text-red-500",children:"Отделение не найдено"})})};export{O as default};
